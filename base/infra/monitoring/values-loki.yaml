---
namespaceOverride: "infra"

deploymentMode: SingleBinary

singleBinary:
  replicas: 1
  persistence:
    size: 4Gi
    storageClass: local-path-infra
  resources:
    requests:
      cpu: "100m"
      memory: "200Mi"
    limits:
      cpu: "300m"
      memory: "700Mi"

# Explicitly disable SimpleScalable components when in SingleBinary mode
write:
  replicas: 0
read:
  replicas: 0
backend:
  replicas: 0

loki:
  readinessProbe:
    httpGet:
      path: /ready
      port: http-metrics
    initialDelaySeconds: 30
    timeoutSeconds: 1
  auth_enabled: false
  storage:
    type: filesystem
  commonConfig:
    replication_factor: 1
  useTestSchema: true

monitoring:
  serviceMonitor:
    enabled: true
